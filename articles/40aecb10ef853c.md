---
title: "VSCode（Cursor）でTypeScriptのif文の前にコメントを入れると、Biomeにif文を勝手に消されてしまう人へ"
emoji: "🤔"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["biome", "VSCode", "Cursor", "TypeScript"]
published: true
---

# TL;DR

- 原因は分かりませんが、設定の`Editor: Format On Save Mode`を`file`にすると、直りました
- `mode`を`modifications`か`modificationsIfAvailable`にしていると、if 文が勝手に消されてしまう現象が発生する

# 発生条件

- [Biome プラグイン](https://marketplace.visualstudio.com/items?itemName=biomejs.biome)を入れて、 を TypeScript の format 設定を biome にする

```json
"[typescript]": {
    "editor.defaultFormatter": "biomejs.biome"
}
```

- 厄介なのは、ある程度**複雑度が高いファイル**においてのみ、この現象が発生すること（数十行程度のコードでは発生しない）
- なお、そのファイルを TypeScript -> JavaScript に変換すると、問題は発生しなかったので、トランスパイラと Biome の相性が悪いのかもしれません
